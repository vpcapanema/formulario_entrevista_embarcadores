<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>PLI 2050 - Formul√°rio de Entrevistas com Embarcadores</title>
    <link rel="icon" type="image/svg+xml" href="../assets/favicon.svg">
    
    <!-- Suprimir avisos de Tracking Prevention para CDNs -->
    <!-- CSS Modularizado: Estilos globais -->
    <link rel="stylesheet" href="../css/index.css?v=20251114">
    <!-- CSS de Valida√ß√£o Visual (Tipo H√≠brido) -->
    <link rel="stylesheet" href="../css/validation.css?v=20251114">
    <!-- CSS de P√°ginas (Respostas, Analytics, Visualizador) -->
    <link rel="stylesheet" href="../css/pages.css?v=20251114">
    <script src="../vendor/chart.js/chart.umd.min.js"></script>
    <script src="../vendor/xlsx/xlsx.full.min.js"></script>
    <script src="../js/excel-generator.js?v=20251114"></script>
    <script src="../vendor/jspdf/jspdf.umd.min.js"></script>
    <script src="../vendor/jspdf/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <!-- Navega√ß√£o -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>PLI 2050 - SP</h1>
                <p>Plano de Log√≠stica e Investimentos</p>
            </div>
            <div class="nav-menu">
                <button class="nav-btn active" onclick="navegarPara('formulario')">
                    <span>üìã</span> Formul√°rio
                </button>
                <button class="nav-btn" onclick="navegarPara('respostas')">
                    <span>üìä</span> Respostas
                </button>
                <button class="nav-btn" onclick="navegarPara('analytics')">
                    <span>üìà</span> Analytics
                </button>
                <button class="nav-btn" onclick="navegarPara('instrucoes')">
                    <span>üìñ</span> Instru√ß√µes
                </button>
                <button class="nav-btn" onclick="navegarPara('visualizador')">
                    <span>ÔøΩ</span> Visualizador
                </button>
            </div>
        </div>
    </nav>

    <!-- P√°gina 1: Formul√°rio -->
    <div id="page-formulario" class="page active">
        <div class="container">
            <div class="page-header">
                <h2>Formul√°rio de Entrevista com Embarcadores</h2>
                <p>Caracteriza√ß√£o do transporte de mercadorias no Estado de S√£o Paulo</p>
            </div>

            <form id="entrevista-form">
                <!-- Card 0: Respons√°vel pelo Preenchimento -->
                <div class="card" id="card-0">
                    <div class="card-header centered">
                        <h3>Respons√°vel pelo Preenchimento</h3>
                        <p class="card-intro">Quem est√° preenchendo este formul√°rio?</p>
                    </div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Quem est√° preenchendo este formul√°rio? *</label>
                                <div class="radio-group">
                                    <label class="radio-label">
                                        <input type="radio" name="tipo-responsavel" value="entrevistado" required>
                                        <span>Entrevistado (Representante da empresa)</span>
                                    </label>
                                    <label class="radio-label">
                                        <input type="radio" name="tipo-responsavel" value="entrevistador" required>
                                        <span>Entrevistador (Consultor/Pesquisador)</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Campo condicional: Selecionar Entrevistador -->
                        <div class="form-row hidden-field" id="selecionar-entrevistador-container">
                            <div class="form-group">
                                <label for="id-entrevistador">Selecione o entrevistador *</label>
                                <select id="id-entrevistador" name="id-entrevistador">
                                    <option value="">Selecione um entrevistador</option>
                                </select>
                                <p class="help-text">Se voc√™ n√£o encontrar seu nome na lista, entre em contato com o administrador do sistema.</p>
                            </div>
                        </div>

                        <!-- Informa√ß√£o para entrevistado -->
                        <div class="form-row" id="info-entrevistado-container">
                            <div class="form-group">
                                <div class="info-box">
                                    <p><strong>‚ÑπÔ∏è Informa√ß√£o:</strong> Voc√™ est√° preenchendo o formul√°rio como representante da empresa. Suas informa√ß√µes de contato ser√£o solicitadas na pr√≥xima se√ß√£o.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 1: Dados do Entrevistado -->
                <div class="card" id="card-1">
                    <div class="card-header">
                        <h3>1 - Dados do Entrevistado</h3>
                        <p class="card-intro">Informa√ß√µes de contato da pessoa respons√°vel pelas informa√ß√µes log√≠sticas.</p>
                    </div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="nome"><span class="question-number">1.</span> Nome *</label>
                                <input type="text" id="nome" name="nome" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="funcao"><span class="question-number">2.</span> Fun√ß√£o *</label>
                                <select id="funcao" name="funcao" required>
                                    <option value="">Carregando fun√ß√µes...</option>
                                </select>
                                <small class="field-hint">Selecione a fun√ß√£o/cargo do entrevistado na empresa</small>
                                <!-- Campo condicional para "Outro" -->
                                <div class="hidden-field hidden-field-spaced" id="outra-funcao-container">
                                    <label for="outra-funcao">Especifique a fun√ß√£o:</label>
                                    <input type="text" id="outra-funcao" name="outra-funcao">
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="telefone"><span class="question-number">3.</span> Telefone</label>
                                <input type="tel" id="telefone" name="telefone">
                            </div>
                            <div class="form-group">
                                <label for="email"><span class="question-number">4.</span> E-mail</label>
                                <input type="email" id="email" name="email">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="estado-civil"><span class="question-number">5.</span> Estado Civil</label>
                                <select id="estado-civil" name="estado-civil">
                                    <option value="">Selecione...</option>
                                    <option value="solteiro">Solteiro(a)</option>
                                    <option value="casado">Casado(a)</option>
                                    <option value="divorciado">Divorciado(a)</option>
                                    <option value="viuvo">Vi√∫vo(a)</option>
                                    <option value="uniao-estavel">Uni√£o Est√°vel</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="nacionalidade"><span class="question-number">6.</span> Nacionalidade</label>
                                <select id="nacionalidade" name="nacionalidade">
                                    <option value="">Selecione...</option>
                                    <option value="brasileira">Brasileira</option>
                                    <option value="estrangeira">Estrangeira</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="uf-naturalidade"><span class="question-number">7.</span> UF de Naturalidade</label>
                                <select id="uf-naturalidade" name="uf-naturalidade">
                                    <option value="">Carregando estados...</option>
                                </select>
                                <small class="field-hint">Estado onde nasceu</small>
                            </div>
                            <div class="form-group">
                                <label for="municipio-naturalidade"><span class="question-number">8.</span> Munic√≠pio de Naturalidade</label>
                                <select id="municipio-naturalidade" name="municipio-naturalidade" disabled>
                                    <option value="">Selecione primeiro o estado</option>
                                </select>
                                <small class="field-hint">Munic√≠pio onde nasceu</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 2: Dados da Empresa -->
                <div class="card" id="card-2">
                    <div class="card-header">
                        <h3>2 - Dados da Empresa</h3>
                        <p class="card-intro">Caracteriza√ß√£o geral da empresa e suas atividades log√≠sticas.</p>
                    </div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tipo-empresa"><span class="question-number">9.</span> A empresa √© um: *</label>
                                <select id="tipo-empresa" name="tipo-empresa" required>
                                    <option value="">Selecione...</option>
                                    <option value="embarcador">Embarcador (dono da carga)</option>
                                    <option value="transportador">Transportador (prestador de servi√ßos de transporte)</option>
                                    <option value="operador">Operador log√≠stico (gest√£o e integra√ß√£o de servi√ßos)</option>
                                    <option value="outro">Outro</option>
                                </select>
                                <!-- Campo condicional inline -->
                                <div class="hidden-field hidden-field-spaced" id="outro-tipo-container">
                                    <label for="outro-tipo">Especifique:</label>
                                    <input type="text" id="outro-tipo" name="outro-tipo">
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cnpj-empresa"><span class="question-number">10a.</span> CNPJ</label>
                                <input type="text" id="cnpj-empresa" name="cnpj-empresa"
                                    placeholder="00.000.000/0000-00"
                                    maxlength="18">
                                <small class="field-hint" id="cnpj-status">(Opcional) Se informado, consulta Receita Federal</small>
                            </div>
                            <div class="form-group">
                                <label for="razao-social"><span class="question-number">10b.</span> Nome da empresa *</label>
                                <input type="text" id="razao-social" name="razao-social" required
                                       placeholder="Ser√° preenchido automaticamente ao digitar o CNPJ">
                                <small class="field-hint">Raz√£o social obtida da Receita Federal</small>
                            </div>
                        </div>
                        
                        <!-- Campos informativos da Receita Federal (somente leitura) -->
                        <div class="form-row hidden-initially" id="campos-receita-federal">
                            <div class="form-group">
                                <label for="nome-fantasia-receita"><span class="question-number">10c.</span> Nome Fantasia</label>
                                <input type="text" id="nome-fantasia-receita" readonly class="readonly-field"
                                       placeholder="Aguardando consulta CNPJ...">
                                <small class="field-hint">üìÑ Informa√ß√£o da Receita Federal (n√£o edit√°vel)</small>
                            </div>
                            <div class="form-group">
                                <label for="situacao-cadastral-receita"><span class="question-number">10d.</span> Situa√ß√£o Cadastral</label>
                                <input type="text" id="situacao-cadastral-receita" readonly class="readonly-field"
                                       placeholder="Aguardando consulta CNPJ...">
                                <small class="field-hint">üìÑ Informa√ß√£o da Receita Federal (n√£o edit√°vel)</small>
                            </div>
                        </div>
                        <div class="form-row hidden-initially" id="campos-receita-federal-2">
                            <div class="form-group">
                                <label for="atividade-principal-receita"><span class="question-number">10e.</span> Atividade Principal (CNAE)</label>
                                <input type="text" id="atividade-principal-receita" readonly class="readonly-field"
                                       placeholder="Aguardando consulta CNPJ...">
                                <small class="field-hint">üìÑ Informa√ß√£o da Receita Federal (n√£o edit√°vel)</small>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="municipio-empresa"><span class="question-number">11.</span> Munic√≠pio da(s) unidade(s) de produ√ß√£o *</label>
                                <input type="text" id="municipio-empresa" name="municipio-empresa" required
                                       placeholder="Ser√° preenchido automaticamente ao digitar o CNPJ">
                                <small class="field-hint">Munic√≠pio onde a empresa est√° localizada</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 3: Produtos Transportados -->
                <div class="card" id="card-3">
                    <div class="card-header">
                        <h3>3 - Produtos Transportados</h3>
                        <p class="card-intro">Informa√ß√µes sobre os principais produtos expedidos/transportados pela empresa.</p>
                    </div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label><span class="question-number">8.</span> Principais produtos e suas caracter√≠sticas:</label>
                                <p class="help-text">Adicione os principais produtos transportados. Para cada produto, informe a movimenta√ß√£o anual, origem, destino, dist√¢ncia, modalidade e acondicionamento.</p>
                                <button type="button" class="btn-add" onclick="addProdutoRow()">+ Adicionar Produto</button>
                            </div>
                        </div>
                        <div id="produtos-container" class="table-container">
                            <table id="produtos-table">
                                <thead>
                                    <tr>
                                        <th>Carga Transportada</th>
                                        <th>Movimenta√ß√£o (ton/ano)</th>
                                        <th>Origem</th>
                                        <th>Destino</th>
                                        <th>Dist√¢ncia (km)</th>
                                        <th>Modalidade</th>
                                        <th>Acondicionamento</th>
                                        <th>Observa√ß√µes</th>
                                        <th>A√ß√µes</th>
                                    </tr>
                                </thead>
                                <tbody id="produtos-tbody">
                                    <!-- Linhas ser√£o adicionadas dinamicamente -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Card 4: Produto Principal -->
                <div class="card" id="card-4">
                    <div class="card-header">
                        <h3>4 - Caracteriza√ß√£o do Produto Principal</h3>
                        <p class="card-intro">Entre os produtos mencionados acima, indique aquele que √© mais representativo para a empresa. As pr√≥ximas perguntas focar√£o neste produto espec√≠fico.</p>
                    </div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="produto-principal"><span class="question-number">9.</span> Produto mais representativo *</label>
                                <input type="text" id="produto-principal" name="produto-principal" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="agrupamento-produto"><span class="question-number">10.</span> Este produto se encaixa em qual agrupamento? *</label>
                                <select id="agrupamento-produto" name="agrupamento-produto" required>
                                    <option value="">Selecione...</option>
                                    <option value="acucar">A√ß√∫car</option>
                                    <option value="adubos">Adubos e fertilizantes</option>
                                    <option value="alimentos-industrializados">Alimentos industrializados</option>
                                    <option value="suco-laranja">Suco de laranja</option>
                                    <option value="animais-vivos">Animais vivos</option>
                                    <option value="arroz">Arroz</option>
                                    <option value="bebidas">Bebidas</option>
                                    <option value="biocombustiveis">Biocombust√≠veis</option>
                                    <option value="cafe">Caf√©</option>
                                    <option value="cha-mate">Ch√°, mate e especiarias</option>
                                    <option value="cargas-especiais">Cargas especiais</option>
                                    <option value="carnes">Carnes</option>
                                    <option value="carvao-mineral">Carv√£o mineral</option>
                                    <option value="cimento">Cimento</option>
                                    <option value="combustiveis">Combust√≠veis derivados do petr√≥leo</option>
                                    <option value="eletronicos">Eletr√¥nicos</option>
                                    <option value="embalagens">Embalagens pl√°sticas, botij√µes para g√°s, pallets de madeira e garrafas de vidro</option>
                                    <option value="farelo-soja">Farelo de soja</option>
                                    <option value="hortifruti">Hortifruti</option>
                                    <option value="glp">GLP</option>
                                    <option value="defensivos">Defensivos agr√≠colas</option>
                                    <option value="laticinios">Latic√≠nios e outros alimentos de origem animal</option>
                                    <option value="madeira-carvao">Madeira e carv√£o</option>
                                    <option value="maquinas-eletricas">M√°quinas, aparelhos e materiais el√©tricos</option>
                                    <option value="medicamentos">Medicamentos</option>
                                    <option value="milho">Milho</option>
                                    <option value="minerio-ferro">Min√©rio de ferro</option>
                                    <option value="obras-ferro-aco">Obras de ferro ou a√ßo</option>
                                    <option value="oleo-bruto">√ìleo bruto</option>
                                    <option value="algodao">Algod√£o</option>
                                    <option value="cana-acucar">Cana-de-a√ß√∫car</option>
                                    <option value="cereais">Cereais</option>
                                    <option value="oleos-vegetais">√ìleos vegetais e animais</option>
                                    <option value="oleos-vegetais-bruto">√ìleos vegetais em bruto</option>
                                    <option value="outras-cgc">Outras CGC</option>
                                    <option value="outros-gl">Outros GL</option>
                                    <option value="madeira-bruto">Madeira em bruto</option>
                                    <option value="materiais-construcao">Materiais de Constru√ß√£o</option>
                                    <option value="outras-cgnc">Outras CGNC</option>
                                    <option value="calcario">Calc√°rio</option>
                                    <option value="enxofre">Enxofre</option>
                                    <option value="minerais-contenteirizaveis">Minerais Conteneiriz√°veis</option>
                                    <option value="minerais-metalicos">Minerais met√°licos n√£o ferrosos</option>
                                    <option value="minerio-aluminio">Min√©rio de alum√≠nio</option>
                                    <option value="outros-gsm">Outros GSM</option>
                                    <option value="produtos-quimicos-gs">Produtos qu√≠micos em GS</option>
                                    <option value="celulose">Celulose</option>
                                    <option value="papel">Papel</option>
                                    <option value="petroquimicos-solidos">Petroqu√≠micos s√≥lidos</option>
                                    <option value="plasticos">Pl√°sticos e suas obras</option>
                                    <option value="pneus-componentes">Pneus, componentes e acess√≥rios de autom√≥veis</option>
                                    <option value="higiene-limpeza">Produtos de higiene e limpeza</option>
                                    <option value="produtos-quimicos">Produtos qu√≠micos</option>
                                    <option value="produtos-quimicos-gl">Produtos qu√≠micos em GL</option>
                                    <option value="soda-caustica">Soda c√°ustica</option>
                                    <option value="produtos-metalurgicos">Produtos metal√∫rgicos</option>
                                    <option value="racao-animal">Ra√ß√£o animal e desperd√≠cios das ind√∫strias alimentares</option>
                                    <option value="sal">Sal</option>
                                    <option value="soja">Soja</option>
                                    <option value="trigo">Trigo</option>
                                    <option value="veiculos">Ve√≠culos automotivos</option>
                                    <option value="vestuario">Vestu√°rio</option>
                                    <option value="outro-produto">Outro</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row hidden-field" id="outro-produto-container">
                            <div class="form-group">
                                <label for="outro-produto">Especifique o produto:</label>
                                <input type="text" id="outro-produto" name="outro-produto">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 5: Caracter√≠sticas do Transporte -->
                <div class="card" id="card-5">
                    <div class="card-header">
                        <h3>5 - Caracter√≠sticas do Transporte</h3>
                        <p class="card-intro">Detalhes sobre origem, destino, modalidade e especifica√ß√µes t√©cnicas do transporte do produto principal.</p>
                    </div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tipo-transporte"><span class="question-number">11.</span> O transporte desse material refere-se a: *</label>
                                <select id="tipo-transporte" name="tipo-transporte" required>
                                    <option value="">Selecione...</option>
                                    <option value="importacao">Importa√ß√£o</option>
                                    <option value="exportacao">Exporta√ß√£o</option>
                                    <option value="local">Transporte Local</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="origem-pais"><span class="question-number">12.</span> Pa√≠s de Origem *</label>
                                <select id="origem-pais" name="origem-pais" required>
                                    <option value="">Carregando pa√≠ses...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="origem-estado">Estado de Origem</label>
                                <select id="origem-estado" name="origem-estado" disabled>
                                    <option value="">Primeiro selecione o pa√≠s</option>
                                </select>
                                <small class="field-hint">Habilitado apenas se Pa√≠s = Brasil</small>
                            </div>
                            <div class="form-group">
                                <label for="origem-municipio">Munic√≠pio de Origem</label>
                                <select id="origem-municipio" name="origem-municipio" disabled>
                                    <option value="">Primeiro selecione o estado</option>
                                </select>
                                <small class="field-hint">Habilitado ap√≥s selecionar estado brasileiro</small>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="destino-pais"><span class="question-number">13.</span> Pa√≠s de Destino *</label>
                                <select id="destino-pais" name="destino-pais" required>
                                    <option value="">Carregando pa√≠ses...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="destino-estado">Estado de Destino</label>
                                <select id="destino-estado" name="destino-estado" disabled>
                                    <option value="">Primeiro selecione o pa√≠s</option>
                                </select>
                                <small class="field-hint">Habilitado apenas se Pa√≠s = Brasil</small>
                            </div>
                            <div class="form-group">
                                <label for="destino-municipio">Munic√≠pio de Destino</label>
                                <select id="destino-municipio" name="destino-municipio" disabled>
                                    <option value="">Primeiro selecione o estado</option>
                                </select>
                                <small class="field-hint">Habilitado ap√≥s selecionar estado brasileiro</small>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="distancia"><span class="question-number">14.</span> Dist√¢ncia do deslocamento (km) *</label>
                                <input type="number" id="distancia" name="distancia" min="0" required>
                            </div>
                            <div class="form-group">
                                <label for="tem-paradas"><span class="question-number">15.</span> Esse deslocamento tem paradas? *</label>
                                <select id="tem-paradas" name="tem-paradas" required>
                                    <option value="">Selecione...</option>
                                    <option value="sim">Sim</option>
                                    <option value="nao">N√£o</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="num-paradas"><span class="question-number">16.</span> N√∫mero de paradas *</label>
                                <select id="num-paradas" name="num-paradas" required>
                                    <option value="">Selecione...</option>
                                    <option value="0">0 paradas</option>
                                    <option value="1">1 parada</option>
                                    <option value="2">2 paradas</option>
                                    <option value="3">3 paradas</option>
                                    <option value="4">4 paradas</option>
                                    <option value="5">5 paradas</option>
                                    <option value="6">6 paradas</option>
                                    <option value="7">7 paradas</option>
                                    <option value="8">8 paradas</option>
                                    <option value="9">9 paradas</option>
                                    <option value="10">10 paradas</option>
                                    <option value="11">Mais de 10 paradas (especificar abaixo)</option>
                                </select>
                                <!-- Campo condicional: exato se > 10 -->
                                <div class="hidden-field hidden-field-spaced" id="num-paradas-exato-container">
                                    <label for="num-paradas-exato">N√∫mero exato de paradas *</label>
                                    <input type="number" id="num-paradas-exato" name="num-paradas-exato" min="11" placeholder="Exemplo: 15">
                                    <small class="field-hint">Digite o n√∫mero exato de paradas (m√≠nimo 11)</small>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label><span class="question-number">17.</span> Modo(s) utilizado(s) nesse deslocamento: * (pode marcar mais de um)</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="modo" value="rodoviario"> Rodovi√°rio</label>
                                    <label><input type="checkbox" name="modo" value="ferroviario"> Ferrovi√°rio</label>
                                    <label><input type="checkbox" name="modo" value="hidroviario"> Hidrovi√°rio</label>
                                    <label><input type="checkbox" name="modo" value="cabotagem"> Cabotagem</label>
                                    <label><input type="checkbox" name="modo" value="dutoviario"> Dutovi√°rio</label>
                                    <label><input type="checkbox" name="modo" value="aeroviario"> Aerovi√°rio</label>
                                </div>
                                <!-- Campo condicional -->
                                <div class="hidden-field hidden-field-spaced" id="config-veiculo-container">
                                    <label for="config-veiculo">Configura√ß√£o do ve√≠culo rodovi√°rio:</label>
                                    <select id="config-veiculo" name="config-veiculo">
                                        <option value="">Selecione...</option>
                                        <option value="leve">Ve√≠culo leve (VUC / caminhonete / furg√£o)</option>
                                        <option value="simples">Caminh√£o unidade simples, com carroceria fixa (ex.: Toco, truck, ba√∫ r√≠gido)</option>
                                        <option value="semirreboque">Caminh√£o semirreboque (ex.: carreta)</option>
                                        <option value="reboque">Caminh√£o com reboque (ex.: bitrem, rodotrem, cegonheira, reboque tanque)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="observacoes_produto_principal"><span class="question-number">18.</span> Alguma observa√ß√£o sobre o transporte do produto principal?</label>
                                <textarea id="observacoes_produto_principal" name="observacoes_produto_principal" rows="4" placeholder="Digite aqui suas observa√ß√µes sobre o transporte deste produto..."></textarea>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="capacidade-utilizada"><span class="question-number">19.</span> Capacidade do ve√≠culo utilizada (%) *</label>
                                <input type="number" id="capacidade-utilizada" name="capacidade-utilizada" 
                                       min="0" max="100" step="0.1" 
                                       placeholder="Ex: 85.5" required>
                                <small class="field-hint">Digite a porcentagem exata de capacidade utilizada (0 a 100%)</small>
                            </div>
                            <div class="form-group">
                                <label for="peso-carga"><span class="question-number">20.</span> Peso da carga *</label>
                                <input type="number" id="peso-carga" name="peso-carga" min="0" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label for="unidade-peso"><span class="question-number">21.</span> Unidade *</label>
                                <select id="unidade-peso" name="unidade-peso" required>
                                    <option value="kg">kg</option>
                                    <option value="toneladas">toneladas</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="custo-transporte"><span class="question-number">22.</span> Custo total do transporte (R$) *</label>
                                <input type="number" id="custo-transporte" name="custo-transporte" min="0" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label for="valor-carga"><span class="question-number">23.</span> Valor total da carga (R$) *</label>
                                <input type="number" id="valor-carga" name="valor-carga" min="0" step="0.01" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tipo-embalagem"><span class="question-number">24.</span> Tipo de embalagem *</label>
                                <select id="tipo-embalagem" name="tipo-embalagem" required>
                                    <option value="">Selecione...</option>
                                    <option value="granel-solido">Granel s√≥lido</option>
                                    <option value="granel-liquido">Granel l√≠quido</option>
                                    <option value="fracionada">Carga fracionada / avulsa</option>
                                    <option value="conteiner-20">Cont√™iner FTL (20') - Full Truck Load</option>
                                    <option value="conteiner-40">Cont√™iner FTL (40') - Full Truck Load</option>
                                    <option value="conteiner-ltc">Cont√™iner LTC - Less Than Container</option>
                                    <option value="carga-geral">Carga geral</option>
                                    <option value="carga-expressa">Carga expressa / encomenda</option>
                                    <option value="nao-informado">N√£o informado</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="carga-perigosa"><span class="question-number">25.</span> √â uma carga perigosa? *</label>
                                <select id="carga-perigosa" name="carga-perigosa" required>
                                    <option value="">Selecione...</option>
                                    <option value="sim">Sim</option>
                                    <option value="nao">N√£o</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tempo-dias"><span class="question-number">26.</span> Tempo de deslocamento - Dias *</label>
                                <input type="number" id="tempo-dias" name="tempo-dias" min="0" placeholder="Dias" required>
                            </div>
                            <div class="form-group">
                                <label for="tempo-horas">Horas *</label>
                                <input type="number" id="tempo-horas" name="tempo-horas" min="0" max="23" placeholder="Horas" required>
                            </div>
                            <div class="form-group">
                                <label for="tempo-minutos">Minutos *</label>
                                <input type="number" id="tempo-minutos" name="tempo-minutos" min="0" max="59" placeholder="Minutos" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="frequencia"><span class="question-number">27.</span> Frequ√™ncia aproximada de deslocamento dessa carga *</label>
                                <select id="frequencia" name="frequencia" required>
                                    <option value="">Selecione...</option>
                                    <option value="diaria">Di√°ria</option>
                                    <option value="mais-1x-semana">Mais de 1x por semana</option>
                                    <option value="1x-semana">1x por semana</option>
                                    <option value="1x-mes">1x por m√™s</option>
                                    <option value="eventual">Eventual</option>
                                    <option value="outra">Outra</option>
                                </select>
                                <!-- Campo condicional (sem numera√ß√£o) -->
                                <div class="hidden-field hidden-field-spaced" id="frequencia-diaria-container">
                                    <label for="frequencia-diaria">Quantas vezes no dia?</label>
                                    <input type="number" id="frequencia-diaria" name="frequencia-diaria" 
                                           min="0.5" max="100" step="0.5" 
                                           placeholder="Ex: 2.5">
                                    <small class="field-hint">Digite o n√∫mero de viagens por dia (pode usar decimais, ex: 2.5)</small>
                                </div>
                                <!-- Campo condicional Q-outra -->
                                <div class="hidden-field hidden-field-spaced" id="frequencia-outra-container">
                                    <label for="frequencia-outra">Especifique a frequ√™ncia:</label>
                                    <input type="text" id="frequencia-outra" name="frequencia-outra">
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="observacoes-sazonalidade"><span class="question-number">28.</span> Gostaria de registrar alguma observa√ß√£o sobre sazonalidade?</label>
                                <textarea id="observacoes-sazonalidade" name="observacoes-sazonalidade" rows="4" placeholder="Digite suas observa√ß√µes sobre varia√ß√µes sazonais no transporte..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 6: Fatores de Decis√£o Modal -->
                <div class="card" id="card-6">
                    <div class="card-header">
                        <h3>6 - Fatores de Decis√£o Modal</h3>
                        <p class="card-intro">Avalia a import√¢ncia e sensibilidade a varia√ß√µes em 5 fatores principais:</p>
                        <ul class="intro-list">
                            <li><strong>CUSTO</strong> - Impacto dos custos de transporte</li>
                            <li><strong>TEMPO</strong> - Dura√ß√£o do transporte</li>
                            <li><strong>CONFIABILIDADE</strong> - Previsibilidade e pontualidade</li>
                            <li><strong>SEGURAN√áA</strong> - Prote√ß√£o contra perdas e danos</li>
                            <li><strong>CAPACIDADE</strong> - Volume que pode ser transportado</li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <!-- CUSTO -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="importancia-custo"><span class="question-number">29.</span> üí∞ Import√¢ncia do CUSTO *</label>
                                <select id="importancia-custo" name="importancia-custo" required>
                                    <option value="">Selecione...</option>
                                    <option value="muito-alta">Muito alta</option>
                                    <option value="alta">Alta</option>
                                    <option value="media">M√©dia</option>
                                    <option value="baixa">Baixa</option>
                                    <option value="muito-baixa">Muito baixa</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="variacao-custo"><span class="question-number">30.</span> Varia√ß√£o % de CUSTO que mudaria sua forma de transporte *</label>
                                <input type="number" id="variacao-custo" name="variacao-custo" min="0" max="100" step="0.1" required>
                            </div>
                        </div>

                        <!-- TEMPO -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="importancia-tempo"><span class="question-number">31.</span> ‚è±Ô∏è Import√¢ncia do TEMPO *</label>
                                <select id="importancia-tempo" name="importancia-tempo" required>
                                    <option value="">Selecione...</option>
                                    <option value="muito-alta">Muito alta</option>
                                    <option value="alta">Alta</option>
                                    <option value="media">M√©dia</option>
                                    <option value="baixa">Baixa</option>
                                    <option value="muito-baixa">Muito baixa</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="variacao-tempo"><span class="question-number">32.</span> Varia√ß√£o % de TEMPO que mudaria sua forma de transporte *</label>
                                <input type="number" id="variacao-tempo" name="variacao-tempo" min="0" max="100" step="0.1" required>
                            </div>
                        </div>

                        <!-- CONFIABILIDADE -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="importancia-confiabilidade"><span class="question-number">33.</span> ‚úÖ Import√¢ncia da CONFIABILIDADE *</label>
                                <select id="importancia-confiabilidade" name="importancia-confiabilidade" required>
                                    <option value="">Selecione...</option>
                                    <option value="muito-alta">Muito alta</option>
                                    <option value="alta">Alta</option>
                                    <option value="media">M√©dia</option>
                                    <option value="baixa">Baixa</option>
                                    <option value="muito-baixa">Muito baixa</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="variacao-confiabilidade"><span class="question-number">34.</span> Varia√ß√£o % de CONFIABILIDADE que mudaria sua forma de transporte *</label>
                                <input type="number" id="variacao-confiabilidade" name="variacao-confiabilidade" min="0" max="100" step="0.1" required>
                            </div>
                        </div>

                        <!-- SEGURAN√áA -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="importancia-seguranca"><span class="question-number">35.</span> üîí Import√¢ncia da SEGURAN√áA *</label>
                                <select id="importancia-seguranca" name="importancia-seguranca" required>
                                    <option value="">Selecione...</option>
                                    <option value="muito-alta">Muito alta</option>
                                    <option value="alta">Alta</option>
                                    <option value="media">M√©dia</option>
                                    <option value="baixa">Baixa</option>
                                    <option value="muito-baixa">Muito baixa</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="variacao-seguranca"><span class="question-number">36.</span> Varia√ß√£o % de SEGURAN√áA que mudaria sua forma de transporte *</label>
                                <input type="number" id="variacao-seguranca" name="variacao-seguranca" min="0" max="100" step="0.1" required>
                            </div>
                        </div>

                        <!-- CAPACIDADE -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="importancia-capacidade"><span class="question-number">37.</span> üì¶ Import√¢ncia da CAPACIDADE *</label>
                                <select id="importancia-capacidade" name="importancia-capacidade" required>
                                    <option value="">Selecione...</option>
                                    <option value="muito-alta">Muito alta</option>
                                    <option value="alta">Alta</option>
                                    <option value="media">M√©dia</option>
                                    <option value="baixa">Baixa</option>
                                    <option value="muito-baixa">Muito baixa</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="variacao-capacidade"><span class="question-number">38.</span> Varia√ß√£o % de CAPACIDADE que mudaria sua forma de transporte *</label>
                                <input type="number" id="variacao-capacidade" name="variacao-capacidade" min="0" step="0.1" required>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 7: An√°lise Estrat√©gica -->
                <div class="card" id="card-7">
                    <div class="card-header">
                        <h3>7 - An√°lise Estrat√©gica</h3>
                        <p class="card-intro">Caracter√≠sticas da cadeia log√≠stica e disposi√ß√£o para utilizar modalidades alternativas.</p>
                    </div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tipo-cadeia"><span class="question-number">39.</span> Esse transporte √© de Suprimento ou Distribui√ß√£o? *</label>
                                <select id="tipo-cadeia" name="tipo-cadeia" required>
                                    <option value="">Selecione...</option>
                                    <option value="suprimento">Cadeia de Suprimento (ex.: terminais ‚Üí ind√∫stria, ind√∫stria ‚Üí atacado/varejo)</option>
                                    <option value="distribuicao">Cadeia de Distribui√ß√£o (ex.: ind√∫stria ‚Üí terminais/armaz√©ns, atacado ‚Üí varejo)</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label><span class="question-number">40.</span> Voc√™ estaria disposto a utilizar alternativamente: (pode marcar mais de uma op√ß√£o)</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="modal-alternativo" value="ferrovia"> Ferrovia</label>
                                    <label><input type="checkbox" name="modal-alternativo" value="hidrovia"> Hidrovia</label>
                                    <label><input type="checkbox" name="modal-alternativo" value="dutovia"> Dutovia</label>
                                    <label><input type="checkbox" name="modal-alternativo" value="cabotagem"> Cabotagem (mar√≠timo)</label>
                                    <label><input type="checkbox" name="modal-alternativo" value="nenhum"> Nenhum</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="fator-adicional"><span class="question-number">41.</span> Algum fator de import√¢ncia consider√°vel para a escolha modal n√£o foi citado anteriormente?</label>
                                <textarea id="fator-adicional" name="fator-adicional" rows="3"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 8: Dificuldades Log√≠sticas -->
                <div class="card" id="card-8">
                    <div class="card-header">
                        <h3>8 - Dificuldades em Rela√ß√£o √† Log√≠stica Geral</h3>
                        <p class="card-intro">Principais desafios enfrentados pela empresa nas atividades log√≠sticas e de transporte.</p>
                    </div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label><span class="question-number">42.</span> Principais dificuldades enfrentadas: (pode marcar mais de uma op√ß√£o)</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="dificuldade" value="infra-rodoviaria"> Inadequa√ß√£o da infraestrutura rodovi√°ria</label>
                                    <label><input type="checkbox" name="dificuldade" value="infra-ferroviaria"> Inadequa√ß√£o da infraestrutura ferrovi√°ria</label>
                                    <label><input type="checkbox" name="dificuldade" value="infra-portuaria"> Inadequa√ß√£o da infraestrutura portu√°ria</label>
                                    <label><input type="checkbox" name="dificuldade" value="infra-aeroviaria"> Inadequa√ß√£o da infraestrutura aerovi√°ria</label>
                                    <label><input type="checkbox" name="dificuldade" value="infra-dutoviaria"> Inadequa√ß√£o da infraestrutura dutovi√°ria</label>
                                    <label><input type="checkbox" name="dificuldade" value="centros-distribuicao"> Inexist√™ncia ou insufici√™ncia de centros de distribui√ß√£o</label>
                                    <label><input type="checkbox" name="dificuldade" value="terminais-intermodais"> Oferta insuficiente de terminais intermodais</label>
                                    <label><input type="checkbox" name="dificuldade" value="armazenagem"> Oferta insuficiente de instala√ß√µes de armazenagem</label>
                                    <label><input type="checkbox" name="dificuldade" value="acessos-portos"> Inadequa√ß√£o dos acessos aos portos e terminais</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="detalhe-dificuldade"><span class="question-number">43.</span> Detalhe sua dificuldade (especifique outras dificuldades ou forne√ßa mais detalhes):</label>
                                <textarea id="detalhe-dificuldade" name="detalhe-dificuldade" rows="4"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bot√µes de A√ß√£o -->
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="preencherFormularioCompletoTeste()" title="Preencher TODOS os campos automaticamente para teste">
                        üß™ Preencher Formul√°rio Completo de Teste
                    </button>
                    <button type="submit" class="btn-primary">üíæ Enviar Formul√°rio</button>
                    <button type="reset" class="btn-secondary">üîÑ Limpar Formul√°rio</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ============================================================ -->`n    <!-- SCRIPTS REFATORADOS - PLI 2050 v2.0.0 (06/11/2025)        -->
    <!-- Arquitetura modular: Frontend = UI pura, Backend = L√≥gica  -->
    <!-- ============================================================ -->
    
    <!-- Biblioteca XLSX para gera√ß√£o de Excel -->
    <script src="../vendor/xlsx.full.min.js"></script>
    
    <!-- ============================================================ -->
    <!-- ARQUITETURA REFATORADA - Nomenclatura por Dom√≠nio           -->
    <!-- ============================================================ -->
    
    <!-- üîµ CORE - Infraestrutura Base -->
    <!-- 1. CoreAPI - Comunica√ß√£o HTTP + Backend FastAPI -->
    <script src="../js/core-api.js?v=20251114"></script>
    
    <!-- 2. CoreValidators - Validadores PostgreSQL puros -->
    <script src="../js/core-validators.js?v=20251114"></script>
    
    <!-- üü¢ DROPDOWN - Gest√£o de Listas Cascateadas -->
    <!-- 3. DropdownManager - Motor de dropdowns (pa√≠s‚Üíestado‚Üímunic√≠pio) -->
    <script src="../js/dropdown-manager.js?v=20251114"></script>
    
    <!-- üü° FORM - Formul√°rio e Valida√ß√£o -->
    <!-- 4. FormCollector - Coleta de dados e submiss√£o -->
    <script src="../js/form-collector.js?v=20251114"></script>
    
    <!-- 5. FormValidator - Motor de valida√ß√£o visual (onBlur + onSubmit) -->
    <script src="../js/form-validator.js?v=20251114"></script>
    
    <!-- üíæ AUTO-SAVE - Salvamento Autom√°tico Local -->
    <!-- AutoSave - Salva respostas no localStorage para recupera√ß√£o -->
    <script src="../js/auto-save.js?v=20251203"></script>
    
    <!-- üìÑ PDF - Gerador de Relat√≥rios -->
    <!-- PDF Generator - Gera√ß√£o de relat√≥rios estilizados -->
    <script src="../js/pdf-generator.js?v=20251114"></script>
    
    <!-- üî¥ UI - Interface Visual -->
    <!-- 6. UIFeedback - Modais, mensagens, navega√ß√£o -->
    <script src="../js/ui-feedback.js?v=20251114"></script>
    
    <!-- üß≠ NAVBAR - Navega√ß√£o entre P√°ginas -->
    <!-- SPA Router - DEVE carregar ANTES do navbar.js -->
    <script src="../js/spa-router.js?v=20251114"></script>
    <script src="../js/navbar.js?v=20251114"></script>
    
    <!-- üîê AUTENTICA√á√ÉO - Prote√ß√£o de P√°ginas Internas -->
    <script src="../js/auth-simple.js?v=20251114"></script>
    
    <!-- üü£ INTEGRATION - APIs Externas -->
    <!-- 7. IntegrationCNPJ - Auto-fill via Receita Federal -->
    <script src="../js/integration-cnpj.js?v=20251114"></script>
    
    <!-- üìä PAGES - P√°ginas de Visualiza√ß√£o -->
    <!-- 8. PageRespostas - Listagem e visualiza√ß√£o de pesquisas -->
    <script src="../js/page-respostas.js?v=20251114"></script>
    
    <!-- 9. PageAnalytics - Gr√°ficos e KPIs -->
    <script src="../js/page-analytics.js?v=20251114"></script>
    
    <!-- üß™ TESTES - Script de preenchimento autom√°tico para testes -->
    <script src="../js/preencher_formulario_teste.js?v=20251114"></script>
    
    <!-- üß™ TESTES - Suite de testes automatizados (apenas em desenvolvimento) -->
    <!-- Descomente a linha abaixo para carregar testes no console -->
    <!-- <script src="../js/test-suite.js?v=20251114"></script> -->
    
    <!-- üß™ TESTE DE EXPORTA√á√ÉO DE RASCUNHO -->
    <script src="../html/test-export-rascunho.js"></script>
</body>
</html>


