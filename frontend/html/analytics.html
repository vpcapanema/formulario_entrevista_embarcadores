<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PLI 2050 - Analytics</title>
    
    <!-- Suprimir avisos de Tracking Prevention para CDNs -->
    <script>
        const originalWarn = console.warn;
        console.warn = function(...args) {
            const message = args.join(' ');
            if (message.includes('Tracking Prevention') && message.includes('cdn.jsdelivr.net')) {
                return;
            }
            originalWarn.apply(console, args);
        };
    </script>
    
    <link rel="stylesheet" href="../css/index.css?v=20251107">
    <link rel="stylesheet" href="../css/pages.css?v=20251107">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>PLI 2050 - SP</h1>
                <p>Plano de Log√≠stica e Investimentos</p>
            </div>
            <div class="nav-menu">
                <button class="nav-btn" onclick="navegarPara('formulario')">
                    <span>üìã</span> Formul√°rio
                </button>
                <button class="nav-btn" onclick="navegarPara('respostas')">
                    <span>üìä</span> Respostas
                </button>
                <button class="nav-btn active" onclick="navegarPara('analytics')">
                    <span>üìà</span> Analytics
                </button>
                <button class="nav-btn" onclick="navegarPara('instrucoes')">
                    <span>üìñ</span> Instru√ß√µes
                </button>
                <button class="nav-btn" onclick="navegarPara('visualizador')">
                    <span>üëÅ</span> Visualizador
                </button>
            </div>
        </div>
    </nav>

    <div class="container page-top-space">
        <div class="page-header">
            <h2><i class="fas fa-chart-bar"></i> Analytics - An√°lise de Dados</h2>
            <p>An√°lise quantitativa consolidada - Vari√°veis Num√©ricas</p>
        </div>
        
        <!-- KPIs -->
        <div class="kpi-grid" id="kpi-container">
            <div class="loading">‚è≥ Carregando KPIs...</div>
        </div>

        <!-- Gr√°ficos - FOCO NUM√âRICO + SPIDER -->
        <div class="charts-grid">
            <div class="card chart-card">
                <h3><i class="fas fa-box"></i> Volume (kg) por Produto</h3>
                <canvas id="chart-modal"></canvas>
            </div>
            <div class="card chart-card">
                <h3><i class="fas fa-dollar-sign"></i> Custo Total (R$) por Estado de Origem</h3>
                <canvas id="chart-produtos"></canvas>
            </div>
            <div class="card chart-card">
                <h3><i class="fas fa-ruler"></i> Distribui√ß√£o de Dist√¢ncia (km)</h3>
                <canvas id="chart-estados"></canvas>
            </div>
            <div class="card chart-card">
                <h3><i class="fas fa-chart-pie"></i> Import√¢ncia dos Fatores Log√≠sticos</h3>
                <canvas id="chart-spider"></canvas>
            </div>
            <div class="card chart-card">
                <h3><i class="fas fa-tachometer-alt"></i> Capacidade Utilizada (%) por Modal</h3>
                <canvas id="chart-fatores"></canvas>
            </div>
            <div class="card chart-card">
                <h3><i class="fas fa-chart-line"></i> Custo x Dist√¢ncia (Correla√ß√£o)</h3>
                <canvas id="chart-dificuldades"></canvas>
            </div>
            <div class="card chart-card">
                <h3><i class="fas fa-money-bill-wave"></i> Valor de Carga (R$) por Tipo</h3>
                <canvas id="chart-custo-distancia"></canvas>
            </div>
            <div class="card chart-card">
                <h3><i class="fas fa-truck"></i> Distribui√ß√£o por Modal de Transporte</h3>
                <canvas id="chart-modal-dist"></canvas>
            </div>
        </div>
    </div>

    <script src="../js/core-api.js?v=20251107"></script>
    <script src="../js/spa-router.js?v=20251108"></script>
    <script src="../js/navbar.js?v=20251108"></script>
    <script src="../js/auth-simple.js?v=20251108"></script>
    <script src="../js/page-analytics.js?v=20251108"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.PageAnalytics) {
                PageAnalytics.init();
            }
        });
    </script>
</body>
</html>
