/* ============================================================================
   VALIDAÇÃO VISUAL - TIPO HÍBRIDO
   
   Tipo 1: Fundo colorido do campo
   Tipo 2: Borda grossa com sombra
   Tipo 3: Mensagem com badge
   
   Estados:
   1. .required-empty  → Campo obrigatório vazio (VERMELHO)
   2. .invalid-format  → Formato inválido (LARANJA)
   3. .valid-input     → Dados válidos (VERDE)
   4. .checkbox-group-error → Grupo de checkboxes com erro (VERMELHO)
   ============================================================================ */

/* ============================================================================
   CAMPOS DE INPUT - ESTADOS
   ============================================================================ */

/* IMPORTANTE: Options SEMPRE devem ter texto PRETO e fundo BRANCO */
select option {
    background-color: white !important;
    color: #000000 !important;
    font-weight: normal !important;
}

/* Estado 1: Campo Obrigatório Vazio (VERMELHO) */
input.required-empty,
select.required-empty,
textarea.required-empty {
    background-color: #fef2f2 !important; /* Tipo 1: fundo vermelho suave */
    border: 3px solid #dc2626 !important; /* Tipo 2: borda grossa vermelha */
    box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1) !important; /* Tipo 2: sombra vermelha */
    color: #000000 !important; /* Garante texto preto no select */
}

/* Options dentro de select com erro - FORÇAR PRETO */
select.required-empty option {
    background-color: white !important;
    color: #000000 !important;
}

input.required-empty:focus,
select.required-empty:focus,
textarea.required-empty:focus {
    outline: none;
    border-color: #dc2626 !important;
    box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.2) !important;
}

/* Estado 2: Formato Inválido (LARANJA) */
input.invalid-format,
select.invalid-format,
textarea.invalid-format {
    background-color: #fffbeb !important; /* Tipo 1: fundo laranja suave */
    border: 3px solid #f59e0b !important; /* Tipo 2: borda grossa laranja */
    box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1) !important; /* Tipo 2: sombra laranja */
    color: #000000 !important; /* Garante texto preto no select */
}

/* Options dentro de select com warning - FORÇAR PRETO */
select.invalid-format option {
    background-color: white !important;
    color: #000000 !important;
}

input.invalid-format:focus,
select.invalid-format:focus,
textarea.invalid-format:focus {
    outline: none;
    border-color: #f59e0b !important;
    box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.2) !important;
}

/* ============================================================================
   CHECKBOXES - GRUPO COM ERRO
   ============================================================================ */

.checkbox-group-error {
    padding: 1rem;
    background-color: #fef2f2;
    border: 2px solid #dc2626;
    border-radius: 8px;
    box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
}

.checkbox-group-error label {
    color: #991b1b;
}

/* ============================================================================
   CAMPOS DE INPUT - ESTADO VÁLIDO
   ============================================================================ */
/* Estado 3: Dados Válidos (VERDE) */
input.valid-input,
select.valid-input,
textarea.valid-input {
    background-color: #f0fdf4 !important; /* Tipo 1: fundo verde suave */
    border: 3px solid #10b981 !important; /* Tipo 2: borda grossa verde */
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1) !important; /* Tipo 2: sombra verde */
    color: #000000 !important; /* Garante texto preto no select */
}

/* Options dentro de select válido - FORÇAR PRETO */
select.valid-input option {
    background-color: white !important;
    color: #000000 !important;
}

input.valid-input:focus,
select.valid-input:focus,
textarea.valid-input:focus {
    outline: none;
    border-color: #10b981 !important;
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2) !important;
}

/* ============================================================================
   MENSAGENS DE VALIDAÇÃO - TIPO 3 (BADGE + SOMBRA)
   ============================================================================ */

.validation-message {
    margin-top: 0.5rem;
    font-size: 0.875rem;
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
    padding: 0.75rem;
    border-radius: 6px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.validation-message svg {
    flex-shrink: 0;
    margin-top: 2px;
}

.validation-message-content {
    flex: 1;
}

/* Mensagem de Erro (VERMELHO) */
.validation-message.error {
    background-color: #fef2f2;
    border: 1px solid #fecaca;
    color: #991b1b;
}

/* Mensagem de Warning (LARANJA) */
.validation-message.warning {
    background-color: #fffbeb;
    border: 1px solid #fde68a;
    color: #92400e;
}

/* Mensagem de Sucesso (VERDE) - SIMPLIFICADA */
.validation-message.success {
    background-color: #f0fdf4;
    border: 1px solid #bbf7d0;
    color: #065f46;
    padding: 0.5rem 0.75rem; /* Menos padding para mensagem simplificada */
}

/* Badge */
.validation-badge {
    display: inline-block;
    padding: 0.125rem 0.5rem;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 0.25rem;
}

.validation-badge.error {
    background-color: #dc2626;
    color: white;
}

.validation-badge.warning {
    background-color: #f59e0b;
    color: white;
}

.validation-badge.success {
    background-color: #10b981;
    color: white;
}

/* Título e Detalhes da Mensagem */
.validation-message-title {
    font-weight: 600;
    margin-bottom: 0.25rem;
    margin-top: 0.25rem;
}

.validation-message-details {
    opacity: 0.9;
    font-size: 0.85rem;
    line-height: 1.4;
}

.validation-message-details code {
    background-color: rgba(0, 0, 0, 0.05);
    padding: 0.125rem 0.375rem;
    border-radius: 3px;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.9em;
}

/* Mensagem de Sucesso Simplificada (só ícone + badge) */
.validation-message.success .validation-message-content {
    display: flex;
    align-items: center;
    gap: 0;
}

.validation-message.success .validation-message-title,
.validation-message.success .validation-message-details {
    display: none; /* Oculta título e detalhes em mensagem de sucesso */
}

/* ============================================================================
   ÍCONES SVG (LUCIDE ICONS)
   ============================================================================ */

/* Ícone de Alerta (Triângulo) - VERMELHO */
.icon-alert-triangle {
    width: 20px;
    height: 20px;
    stroke: currentColor;
    stroke-width: 2;
    fill: none;
}

/* Ícone de Info (Círculo) - LARANJA */
.icon-alert-circle {
    width: 20px;
    height: 20px;
    stroke: currentColor;
    stroke-width: 2;
    fill: none;
}

/* Ícone de Check (Sucesso) - VERDE */
.icon-check-circle {
    width: 20px;
    height: 20px;
    stroke: currentColor;
    stroke-width: 2;
    fill: none;
}

/* ============================================================================
   RESPONSIVIDADE
   ============================================================================ */

@media (max-width: 768px) {
    .validation-message {
        font-size: 0.8rem;
        padding: 0.5rem;
    }

    .validation-badge {
        font-size: 0.7rem;
        padding: 0.1rem 0.4rem;
    }

    .validation-message svg {
        width: 18px;
        height: 18px;
    }

    input.required-empty,
    input.invalid-format,
    input.valid-input,
    select.required-empty,
    select.invalid-format,
    select.valid-input {
        border-width: 2px !important; /* Borda um pouco menor em mobile */
    }
}

/* ============================================================================
   ANIMAÇÕES E TRANSIÇÕES
   ============================================================================ */

input,
select,
textarea {
    transition: all 0.3s ease;
}

.validation-message {
    transition: all 0.3s ease;
}

/* Shake animation para campos com erro no submit */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.shake-error {
    animation: shake 0.5s ease-in-out;
}

/* ============================================================================
   CONTAINER DE VALIDAÇÃO
   ============================================================================ */

.field-validation-container {
    position: relative;
    margin-bottom: 1.5rem;
}

/* Remove a mensagem anterior ao validar novamente */
.field-validation-container .validation-message.removing {
    animation: slideUp 0.2s ease-out forwards;
}

@keyframes slideUp {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-10px);
        display: none;
    }
}
