# ===============================================================================
# CONFIGURA√á√ïES DE PRODU√á√ÉO - PLI 2050 SISTEMA DE FORMUL√ÅRIOS
# Render PostgreSQL - SIGMA PLI (Free Tier)
# ===============================================================================

# üîó CONEX√ÉO RENDER PostgreSQL
# Database: sigma-pli-db
# Regi√£o: Oregon (us-west-2)
# Engine: PostgreSQL 17
# Status: AVAILABLE ‚úÖ

PGHOST=dpg-d5rc90pr0fns73e2q4n0-a.oregon-postgres.render.com
PGPORT=5432
PGDATABASE=sigma_pli_qr53
PGUSER=sigma_user
PGPASSWORD=pzRszi7xZ4IzjehPVNdCR73DNCJ9jiq5

# SSL (obrigat√≥rio para Render)
POSTGRES_SSLMODE=require

# DATABASE_URL completa
DATABASE_URL=postgresql://sigma_user:pzRszi7xZ4IzjehPVNdCR73DNCJ9jiq5@dpg-d5rc90pr0fns73e2q4n0-a.oregon-postgres.render.com:5432/sigma_pli_qr53

# üåê CORS - Origens Permitidas
# Separar m√∫ltiplas origens com v√≠rgula (sem espa√ßos)
ALLOWED_ORIGINS=https://vpcapanema.github.io,http://localhost:5500,http://127.0.0.1:5500

# üõ†Ô∏è CONFIGURA√á√ïES DA APLICA√á√ÉO
APP_ENV=production
APP_NAME=PLI2050-FormularioEmbarcadores
LOG_LEVEL=info
DEBUG=false

# üìä POOL DE CONEX√ïES POSTGRESQL
# Configura√ß√µes otimizadas para db.t3.micro (1 vCPU, 1GB RAM)
DB_POOL_MIN_SIZE=2
DB_POOL_MAX_SIZE=10
DB_POOL_TIMEOUT=30

# üîê SEGURAN√áA
# Gerar chave secreta com: openssl rand -hex 32
SECRET_KEY=sua-chave-secreta-aleatoria-aqui-gerar-com-openssl
JWT_SECRET_KEY=sua-jwt-secret-key-aqui
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=60

# ‚è±Ô∏è RATE LIMITING
# Limite de requisi√ß√µes por minuto por IP
RATE_LIMIT_PER_MINUTE=100

# üìà MONITORAMENTO
ENABLE_METRICS=true
ENABLE_LOGGING=true

# üí∞ AWS FREE TIER INFO
# ===============================================================================
# EC2 t2.micro: 750h/m√™s GR√ÅTIS (1 vCPU, 1GB RAM)
# RDS db.t3.micro: 750h/m√™s GR√ÅTIS (PostgreSQL 17, 20GB SSD)
# EBS 30GB: GR√ÅTIS (inclu√≠do)
# Data Transfer: 15GB/m√™s GR√ÅTIS
# CloudWatch Logs: 5GB/m√™s GR√ÅTIS
# 
# üéØ CUSTO TOTAL: $0/m√™s por 12 meses! üéâ
# Ap√≥s 12 meses: ~$26/m√™s (ou migrar para App Runner $17/m√™s)
# ===============================================================================

# üìã INFORMA√á√ïES DO RDS (Refer√™ncia)
# ===============================================================================
# Endpoint: sigma-pli-postgresql-db.cwlmgwc4igdh.us-east-1.rds.amazonaws.com
# Porta: 5432
# Database: sigma_pli
# Username: sigma_admin
# Regi√£o: us-east-1
# Zona de Disponibilidade: us-east-1f
# VPC ID: vpc-01206280978218c03
# Security Group ID: sg-0409cba0ee50043ae
# Subnet Group: sigma-pli-subnet-group
# Storage: 20 GB gp2
# Backup Retention: 7 dias
# Multi-AZ: N√£o (Free Tier)
# Publicly Accessible: Sim ‚úÖ
# SSL Certificate: rds-ca-rsa2048-g1
# V√°lido at√©: 26/08/2026
# ===============================================================================

# üîß STRING DE CONEX√ÉO COMPLETA (Refer√™ncia)
# postgresql://sigma_admin:Malditas131533*@sigma-pli-postgresql-db.cwlmgwc4igdh.us-east-1.rds.amazonaws.com:5432/sigma_pli

# üì¶ SCHEMA DO BANCO
# Schema: 'dicionario' (33 tabelas implementadas)
# Status: ‚úÖ CRIADO E OPERACIONAL
# - Sistema completo de auditoria
# - 5 views anal√≠ticas funcionais
# - 3 fun√ß√µes de gest√£o
# - Sistema de triggers autom√°ticos
# - Extens√µes: PostGIS 3.5.0, uuid-ossp, pg_stat_statements

# ‚ö†Ô∏è IMPORTANTE: 
# - N√ÉO commitar este arquivo com credenciais reais
# - Adicionar ao .gitignore
# - Usar AWS Secrets Manager em produ√ß√£o
# - Rotacionar senha periodicamente
